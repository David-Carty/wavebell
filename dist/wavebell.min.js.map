{"version":3,"sources":["wavebell.js"],"names":["global","factory","exports","module","define","amd","WaveBell","this","assert","value","Assertion","props","path","TypeError","PropPath","getUserMicrophone","constraints","hadBy","window","from","getUserMedia","userMediaGetter","navigator","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Error","Promise","resolve","reject","audio","video","buildError","callee","that","state","classCallCheck","instance","Constructor","createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","Emitter","handlerMap","event","handler","map","handlers","indexOf","push","undefined","splice","off","args","Array","slice","arguments","len","apply","_negative","_error","error","get","AudioContext","webkitAudioContext","audioContext","AudioFilter","VolumeMeter","_AudioFilter","mainbus","options","_this","getPrototypeOf","assign","minLimit","maxLimit","fftSize","smoothing","_checkOptions","source","analyser","_initAnalyser","RangeError","_this2","context","createAnalyser","smoothingTimeConstant","on","e","_processData","stream","createMediaStreamSource","connect","destination","disconnect","data","Uint8Array","frequencyBinCount","getByteFrequencyData","volume","_calcAvgVolume","emit","_alignVolume","opts","sum","hasOwn","hasOwnProperty","steps","split","fallback","fn","step","defaultValue","obj","ret","travel","Recorder","_Emitter","mimeType","audioBitsPerSecond","_intern","_result","_filter","meter","ready","to","equal","then","MediaRecorder","type","addEventListener","pipe","tracks","getTracks","stop","cutoff","timeslice","_this3","start","open","not","pause","resume","Blob","_Recorder"],"mappings":"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","file":"wavebell.min.js"}