{"version":3,"sources":["0"],"names":["global","factory","exports","module","define","amd","WaveBell","this","assert","value","Assertion","props","path","TypeError","PropPath","getUserMicrophone","constraints","hadBy","window","from","getUserMedia","userMediaGetter","navigator","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Error","Promise","resolve","reject","audio","video","buildError","self","callee","state","classCallCheck","instance","Constructor","createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","call","ReferenceError","Emitter","handlerMap","event","handler","map","handlers","indexOf","push","undefined","splice","off","args","Array","slice","arguments","len","apply","_negative","_error","error","get","AudioContext","webkitAudioContext","audioContext","AudioFilter","VolumeMeter","_AudioFilter","mainbus","options","_this","getPrototypeOf","fftSize","smoothingTimeConstant","source","analyser","init","_this2","context","createAnalyser","processor","createScriptProcessor","onaudioprocess","e","_processData","connect","destination","stream","createMediaStreamSource","disconnect","data","Uint8Array","frequencyBinCount","getByteFrequencyData","_calcAvgVolume","emit","sum","hasOwn","hasOwnProperty","steps","split","fallback","fn","step","defaultValue","obj","ret","travel","Recorder","_Emitter","mimeType","audioBitsPerSecond","_intern","_result","_filter","then","MediaRecorder","type","addEventListener","pipe","cutoff","timeslice","_this3","that","to","equal","ready","start","open","not","stop","pause","resume","Blob","_Recorder"],"mappings":"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","file":"wavebell.min.js"}