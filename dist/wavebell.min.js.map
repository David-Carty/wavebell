{"version":3,"sources":["wavebell.js"],"names":["global","factory","exports","module","define","amd","WaveBell","this","assert","value","Assertion","props","path","TypeError","PropPath","getUserMicrophone","constraints","hadBy","window","from","getUserMedia","userMediaGetter","navigator","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Error","Promise","resolve","reject","audio","video","buildError","self","callee","state","classCallCheck","instance","Constructor","createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","call","ReferenceError","Emitter","handlerMap","event","handler","map","handlers","indexOf","push","undefined","splice","off","args","Array","slice","arguments","len","apply","_negative","_error","error","get","AudioContext","webkitAudioContext","audioContext","AudioFilter","VolumeMeter","_AudioFilter","mainbus","options","_this","getPrototypeOf","assign","minLimit","maxLimit","fftSize","smoothing","_checkOptions","source","analyser","init","RangeError","_this2","context","createAnalyser","smoothingTimeConstant","processor","createScriptProcessor","onaudioprocess","e","_processData","connect","destination","stream","createMediaStreamSource","disconnect","data","Uint8Array","frequencyBinCount","getByteFrequencyData","volume","_calcAvgVolume","emit","_alignVolume","opts","sum","hasOwn","hasOwnProperty","steps","split","fallback","fn","step","defaultValue","obj","ret","travel","Recorder","_Emitter","mimeType","audioBitsPerSecond","_intern","_result","_filter","meter","then","MediaRecorder","type","addEventListener","pipe","cutoff","timeslice","_this3","that","to","equal","ready","start","open","not","stop","pause","resume","Blob","_Recorder"],"mappings":"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","file":"wavebell.min.js"}